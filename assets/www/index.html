<!DOCTYPE HTML>
<html>
<head>
<title>zVirtualScenes Client</title>
<!--
Uncomment this line out for PhoneGap support
<script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>
-->
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.1.0.js"></script>
<script src="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.js"></script>
<script src="dataContext.js"></script>
<script src="credentials.js"></script>
<script src="zvs.js"></script>
<script src="jQuery.zvs.js"></script>
<link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.2.0-rc.2/jquery.mobile-1.2.0-rc.2.min.css" />
<link rel="stylesheet" type="text/css" href="zvs.css" />
<script>
$(document).ready(function() {
 // Handler for .ready() called.	
 	var zvs = $("#ClientApp").zvs();	
});

</script>

</head>
<body>
<div id="ClientApp">
	<div data-role="page" id="Devices" > 
	
		<ul data-role="listview">
			<li data-role="list-divider">Devices</li>
			<!-- ko foreach: Devices -->
			<li>
				<a data-role="button"  data-icon="star"  href="#SelectedDeviceCommands" data-bind="text: DisplayName, click: $parent.loadDeviceCommands"></a>
			</li>
			<!-- /ko -->
			<li data-role="list-divider">Scenes</li>
			<!-- ko foreach: Scenes -->
			<li>
				<a data-role="button"  data-icon="star"  href="#" data-bind="text: DisplayName, click: $parent.runScene"></a>
			</li>
			<!-- /ko -->
		</ul>
			
		<div data-role="footer">
			<a href="#" data-role="button" data-icon="refresh">Refresh</a>
			<a href="#Devices" data-role="button" data-icon="home">Home</a>
			<span data-bind="text: Message"></span>	
		</div> 
	</div>
	<div data-role="page" id="SelectedDeviceCommands"> 
		<div data-role="header"><span data-bind="text: SelectedDevice().DisplayName"></span> Commands</div> 
		<div data-role="content" data-bind="foreach: SelectedDeviceCommands">		
			<!-- ko ifnot: $root.SelectedDeviceCommandNeedsInput($data) -->
			<a data-role="button" data-icon="star" 
				href="#"  data-rel="back"
				data-bind="text: friendlyname, click: $parent.sendDeviceTypeDeviceCommand">
			</a>	
			<!-- /ko -->
			<!-- ko if: $root.SelectedDeviceCommandNeedsInput($data) -->
			<a data-role="button"  data-icon="star" 
				href="#SelectedDeviceCommandsArgInput" 
				data-bind="text: friendlyname, click: $parent.selectDeviceCommand">
			</a>
			<!-- /ko -->		
		</div> 
		<div data-role="footer">
			<a href="#" data-role="button" data-icon="refresh">Refresh</a>
			<a href="#Devices" data-role="button" data-icon="home">Home</a>
			<span data-bind="text: Message"></span>	
		</div> 
	</div>
	
	<div data-role="page" id="SelectedDeviceCommandsArgInput"> 
		<div data-role="header"><span data-bind="text: SelectedDevice().DisplayName + ' -> ' + SelectedDeviceCommand().friendlyname"></span> Argument</div> 
		<div data-role="content">
			Argument to send:
			<input data-bind="value: DeviceCommandArg" />
			<a data-role="button" href="#" data-rel="back" data-bind="text: 'Send', click: $root.sendDeviceCommand"></a>
		</div> 
		<div data-role="footer">
			<a href="#" data-role="button" data-icon="refresh">Refresh</a>
			<a href="#Devices" data-role="button" data-icon="home">Home</a>
			<span data-bind="text: Message"></span>	
		</div> 
	</div>
	
</div>
</body>
</html>
